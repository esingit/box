@layer components {
  /* 通用按钮基础样式 */
  %btn-base {
    @apply inline-flex items-center justify-center select-none whitespace-nowrap
    text-sm font-medium px-4 py-2 transition-colors duration-200 ease-in-out
    disabled:opacity-50 disabled:cursor-not-allowed;

    height: var(--btn-h);
    border-radius: var(--radius-xl);
    border-width: 1px;
    font-family: var(--font-family, sans-serif);
    box-shadow: none;
  }

  /* 主按钮 */
  .btn-primary {
    @extend %btn-base;
    background-color: var(--btn-primary-bg);
    color: var(--btn-primary-text);
    border-color: var(--btn-primary-border);

    &:hover {
      background-color: var(--btn-primary-hover-bg);
      border-color: var(--btn-primary-hover-border);
    }
  }

  /* 文字按钮 */
  .btn-text {
    @extend %btn-base;
    background-color: transparent;
    color: var(--btn-text-color);
    border-color: transparent;

    &:hover {
      background-color: var(--btn-text-hover-bg);
      color: var(--btn-text-hover-color);
    }
  }

  /* 边框按钮 */
  .btn-outline {
    @extend %btn-base;
    background-color: transparent;
    color: var(--btn-outline-color);
    border-color: var(--btn-outline-border);

    &:hover {
      background-color: var(--btn-outline-hover-bg);
      color: var(--btn-outline-hover-color);
      border-color: var(--btn-outline-hover-border);
    }
  }

  /* 危险按钮 */
  .btn-danger {
    @extend %btn-base;
    background-color: var(--btn-danger-bg);
    color: var(--btn-danger-text);
    border-color: var(--btn-danger-border);

    &:hover {
      background-color: var(--btn-danger-hover-bg);
      border-color: var(--btn-danger-hover-border);
    }
  }

  /* 小号按钮 */
  .btn-sm {
    height: var(--btn-h-sm);
    font-size: var(--font-sm);
    padding: 0 var(--space-sm);
    border-radius: var(--radius-xl);
  }
}

.menu-btn {
  @apply w-full text-left px-5 py-3 rounded-xl transition-shadow duration-150 ease-in-out;
  outline: none;
  user-select: none;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: var(--font-semibold);
  font-family: var(--font-family, sans-serif);
  height: var(--menu-h);
  @apply text-[var(--primary)];
}

.menu-btn.active {
  background-color: var(--bg-active);
  color: var(--primary);
  font-weight: var(--font-semibold);
  pointer-events: none;
}

.menu-btn:focus-visible {
  --tw-ring-color: transparent;
  box-shadow: var(--shadow-md);
  background-color: var(--bg-active);
}

.menu-btn:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.menu-btn .icon {
  @apply mr-3 flex-shrink-0;
  color: var(--text-muted);
}

.menu-btn:hover:not(.active) {
  background-color: var(--bg-active);
}

.menu-btn:focus-visible:not(.active) {
  background-color: var(--bg-active);
  color: var(--primary);
  box-shadow: var(--shadow-focus);
}
